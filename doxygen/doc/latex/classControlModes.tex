\section{Control\+Modes Class Reference}
\label{classControlModes}\index{Control\+Modes@{Control\+Modes}}


The test checks if the joint is able to go in all the available control/interaction modes and if transition between the states is correct.  




{\ttfamily \#include $<$Control\+Modes.\+h$>$}



Inherits Yarp\+Test\+Case.

\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\label{classControlModes_a906098cdeee49ee608ec27e14d17fe4a} 
virtual bool {\bfseries setup} (yarp\+::os\+::\+Property \&property)
\item 
\label{classControlModes_a96e49aa347dc1a743e5f506672f72dc5} 
virtual void {\bfseries tear\+Down} ()
\item 
\label{classControlModes_ae438acaf6677471f962d3d6eec430b52} 
virtual void {\bfseries run} ()
\item 
\label{classControlModes_aba99419a0f329ef8db34b3247c9e8461} 
void {\bfseries go\+Home} ()
\item 
\label{classControlModes_a499fb7c42dc501895e41fb8e7922f3fb} 
void {\bfseries execute\+Cmd} ()
\item 
\label{classControlModes_a2db54b3f482b49317a73caffba85fe98} 
void {\bfseries set\+Mode} (int desired\+\_\+control\+\_\+mode, yarp\+::dev\+::\+Interaction\+Mode\+Enum desired\+\_\+interaction\+\_\+mode)
\item 
\label{classControlModes_a79dc3f6647b41b2b1047e0fb769930db} 
void {\bfseries verify\+Mode} (int desired\+\_\+control\+\_\+mode, yarp\+::dev\+::\+Interaction\+Mode\+Enum desired\+\_\+interaction\+\_\+mode, yarp\+::os\+::\+Const\+String title)
\item 
\label{classControlModes_ac4b07380ed5ef4d060320db5e27cefd5} 
void {\bfseries verify\+Amplifier} (int desired\+\_\+amplifier\+\_\+mode, yarp\+::os\+::\+Const\+String title)
\item 
\label{classControlModes_af8d034ed81bad265bef55868c93dccbb} 
void {\bfseries zero\+Current\+Limits} ()
\item 
\label{classControlModes_a07b40de5590b6de6465275f120cc0278} 
void {\bfseries get\+Original\+Current\+Limits} ()
\item 
\label{classControlModes_a4829a8e1d1d0a9bc97d6f99a39f200fb} 
void {\bfseries reset\+Original\+Current\+Limits} ()
\item 
\label{classControlModes_a484beacf0d13cdea8a6e2f42886a151e} 
void {\bfseries verify\+Mode\+Single} (int joint, int desired\+\_\+control\+\_\+mode, yarp\+::dev\+::\+Interaction\+Mode\+Enum desired\+\_\+interaction\+\_\+mode, yarp\+::os\+::\+Const\+String title)
\item 
\label{classControlModes_af9a2fe5d8cdeba9c6a4c6419b7e10c26} 
void {\bfseries set\+Mode\+Single} (int joint, int desired\+\_\+control\+\_\+mode, yarp\+::dev\+::\+Interaction\+Mode\+Enum desired\+\_\+interaction\+\_\+mode)
\item 
\label{classControlModes_a5a886c22a344441ff40d7223b1a9b7aa} 
void {\bfseries check\+Joint\+With\+Torque\+Mode} ()
\item 
\label{classControlModes_ae0706d70e86af67fbff3d01e58e6cb86} 
void {\bfseries check\+Control\+Mode\+With\+Im\+Compliant} (int desired\+\_\+control\+\_\+mode, yarp\+::os\+::\+Const\+String title)
\end{DoxyCompactItemize}


\subsection{Detailed Description}
The test checks if the joint is able to go in all the available control/interaction modes and if transition between the states is correct. 

The following control modes are test\+: V\+O\+C\+A\+B\+\_\+\+C\+M\+\_\+\+P\+O\+S\+I\+T\+I\+ON, V\+O\+C\+A\+B\+\_\+\+C\+M\+\_\+\+P\+O\+S\+I\+T\+I\+O\+N\+\_\+\+D\+I\+R\+E\+CT, V\+O\+C\+A\+B\+\_\+\+C\+M\+\_\+\+V\+E\+L\+O\+C\+I\+TY, V\+O\+C\+A\+B\+\_\+\+C\+M\+\_\+\+M\+I\+X\+ED, V\+O\+C\+A\+B\+\_\+\+C\+M\+\_\+\+O\+P\+E\+N\+L\+O\+OP, V\+O\+C\+A\+B\+\_\+\+C\+M\+\_\+\+I\+D\+LE, V\+O\+C\+A\+B\+\_\+\+C\+M\+\_\+\+F\+O\+R\+C\+E\+\_\+\+I\+D\+LE, V\+O\+C\+A\+B\+\_\+\+H\+W\+\_\+\+F\+A\+U\+LT. The following interaction modes are tested\+: V\+O\+C\+A\+B\+\_\+\+I\+M\+\_\+\+S\+T\+I\+FF, V\+O\+C\+A\+B\+\_\+\+I\+M\+\_\+\+C\+O\+M\+P\+L\+I\+A\+NT. For some modes (V\+O\+C\+A\+B\+\_\+\+C\+M\+\_\+\+T\+O\+R\+Q\+UE, V\+O\+C\+A\+B\+\_\+\+I\+M\+\_\+\+C\+O\+M\+P\+L\+I\+A\+NT) the test asks to robot\+Interface if the joint capabilities, skipping the test if those modes are not implemented. The test intentionally generates an hardware fault to test the transition between V\+O\+C\+A\+B\+\_\+\+C\+M\+\_\+\+H\+W\+\_\+\+F\+A\+U\+LT to V\+O\+C\+A\+B\+\_\+\+C\+M\+\_\+\+I\+D\+LE. The fault is generated by zeroing the max current limit. Check of the amplifier internal status (i\+Amplifier-\/$>$get\+Amp\+Status) has to be implemented yet.

Example\+: test\+Runner -\/v -\/t Control\+Modes.\+dll -\/p \char`\"{}-\/-\/robot icub -\/-\/part head -\/-\/joints \char`\"{}\char`\"{}(0 1 2 3 4 5)\char`\"{}\char`\"{} -\/-\/zero 0\char`\"{}

Check the following functions\+: \begin{DoxyItemize}
\item I\+Control\+Mode2\+::get\+Control\+Mode()/set\+Control\+Mode() \item I\+Interaction\+Mode\+::get\+Interaction\+Mode()/set\+Interaction\+Mode()\end{DoxyItemize}
Accepts the following parameters\+: \tabulinesep=1mm
\begin{longtabu} spread 0pt [c]{*{7}{|X[-1]}|}
\hline
\rowcolor{\tableheadbgcolor}\PBS\centering {\bf Parameter name }&\PBS\centering {\bf Type }&\PBS\centering {\bf Units }&\PBS\centering {\bf Default Value }&\PBS\centering {\bf Required }&\PBS\centering {\bf Description }&\PBS\centering {\bf Notes  }\\\cline{1-7}
\endfirsthead
\hline
\endfoot
\hline
\rowcolor{\tableheadbgcolor}\PBS\centering {\bf Parameter name }&\PBS\centering {\bf Type }&\PBS\centering {\bf Units }&\PBS\centering {\bf Default Value }&\PBS\centering {\bf Required }&\PBS\centering {\bf Description }&\PBS\centering {\bf Notes  }\\\cline{1-7}
\endhead
\PBS\centering robot &\PBS\centering string &\PBS\centering -\/ &\PBS\centering -\/ &\PBS\centering Yes &\PBS\centering The name of the robot. &\PBS\centering e.\+g. icub \\\cline{1-7}
\PBS\centering part &\PBS\centering string &\PBS\centering -\/ &\PBS\centering -\/ &\PBS\centering Yes &\PBS\centering The name of trhe robot part. &\PBS\centering e.\+g. left\+\_\+arm \\\cline{1-7}
\end{longtabu}
$\vert$ joints $\vert$ vector of ints $\vert$ -\/ $\vert$ Yes $\vert$ List of joints to be tested. $\vert$ $\vert$ $\vert$ zero $\vert$ double $\vert$ deg $\vert$ -\/ $\vert$ Yes $\vert$ The home position for the tested joints. $\vert$ $\vert$ 

Definition at line 42 of file Control\+Modes.\+h.



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
C\+:/dev/icub-\/tests/src/control\+Modes/Control\+Modes.\+h\item 
C\+:/dev/icub-\/tests/src/control\+Modes/Control\+Modes.\+cpp\end{DoxyCompactItemize}
